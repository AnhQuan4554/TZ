import { dateRound } from './round';

describe('dateRound', () => {
  it.each`
    input                                   | interval | expected
    ${'2022-09-09T00:00:00.000Z'}           | ${5}     | ${'2022-09-09T00:00:00.000Z'}
    ${'2022-09-10T02:21:00.000Z'}           | ${5}     | ${'2022-09-10T02:20:00.000Z'}
    ${'2022-09-10T07:03:30.000Z'}           | ${5}     | ${'2022-09-10T07:00:00.000Z'}
    ${'2022-09-10T12:48:30.000Z'}           | ${5}     | ${'2022-09-10T12:45:00.000Z'}
    ${'2022-09-10T06:41:30.000Z'}           | ${5}     | ${'2022-09-10T06:40:00.000Z'}
    ${new Date('2022-09-09T00:00:00.000Z')} | ${5}     | ${'2022-09-09T00:00:00.000Z'}
    ${new Date('2022-09-09T00:00:01.000Z')} | ${5}     | ${'2022-09-09T00:00:00.000Z'}
    ${new Date('2022-09-09T00:01:00.000Z')} | ${5}     | ${'2022-09-09T00:00:00.000Z'}
    ${new Date('2022-09-09T00:06:00.000Z')} | ${5}     | ${'2022-09-09T00:05:00.000Z'}
    ${new Date('2022-09-09T12:06:00.000Z')} | ${5}     | ${'2022-09-09T12:05:00.000Z'}
  `(
    'should round up  $input correctly to $expected ',
    ({ input, expected }) => {
      const output = dateRound(input, 5);
      expect(output.toISOString()).toEqual(expected);
    },
  );
});
